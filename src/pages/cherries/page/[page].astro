---
import getEntries, {byRecency} from "../../../entries.ts"
import type {GetStaticPathsOptions} from "astro"
import EntryListLayout from "../../../layouts/entry-list-layout.astro"

export const getStaticPaths = async function getStaticPaths({
	paginate,
}: GetStaticPathsOptions) {
	const entries = (await getEntries()).toSorted(byRecency)
	return paginate(entries, {
		pageSize: 4,
	})
}
const {page} = Astro.props
---

<EntryListLayout
	title="🍒 cherries"
	description={`all my entries ${page.currentPage > 1 ? `(page ${page.currentPage})}` : ""}`}
	page={page}
/>
